--// KietHub Release 1.7 by Kiet
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({
    Name = "KietHub Release 1.7 By Kiet (This project is open source and licensed.)",
    LoadingTitle = "KietHub v1.7",
    LoadingSubtitle = "Update Mớiiii",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "KietHubConfig",
        FileName = "MainHub"
    },
    KeySystem = false,
})

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local RS = game:GetService("ReplicatedStorage")
local lp = Players.LocalPlayer
local Remote = RS:WaitForChild("RemoteEvent")

--// Hàm lấy Humanoid an toàn
local function getHumanoid()
    local char = lp.Character or lp.CharacterAdded:Wait()
    return char:WaitForChild("Humanoid")
end

-- ================= TAB POWERS =================
local PowersTab = Window:CreateTab("Powers", 4483362458)

local powers = {
    ["Water"] = {"Jellyfish", "Bubbles", "Aqua Trident", "Big Tsunami", "Water Beam", "Bubble Dash"},
    ["Thunder"] = {"Thunder Staff", "Bolt", "Barrage", "Discharge", "Flying Nimbus", "Lightning Strike", "Storm"},
    ["Lava"] = {"Lava Katana", "Lava Ball", "Magma Fists", "Lava Dash", "Volcano Sentry", "Magma Spikes", "Nibiru"},
    ["Earth"] = {"Tectonic Hammer", "Stone Throw", "Rocks Barrage", "Large Boulder", "Burrow", "Stone Henge", "Earth Spikes", "RockSlide"},
    ["Technology"] = {"Hyper Sword", "Photon Blast", "Twin-Photon Blast", "Tesla Turret", "Orbital", "Tesseract", "Hyper Slash"},
    ["Darkness"] = {"Shadow Sword", "Unseen Hands", "Unseen Barrage", "Dark Duo", "Abyss", "Dark Hold", "Dark Arc"},
    ["Light"] = {"Light Saber", "Light Ball", "Light Orbs", "Blinding Light", "Shooting Star", "Light Speed", "Light Beam"},
    ["Ice"] = {"Frost Staff", "Frost Fire Ball", "Ice Disk", "Snow Ball", "Ultracold Aura", "Ice Spikes"},
    ["Gravity"] = {"Gravity Katana", "Heavy Infliction", "Tectonic Barrage", "Gravity Orb", "Tectonic Burst", "Zero Gravity", "Gravity Globe"},
    ["Venom"] = {"Venom Blade", "Poison Bullet", "Acid Rain", "Venom Stream", "Hardened Venom", "Poison Demon", "Bubbling Venom"},
    ["Time"] = {"Time Scepter", "Temporal Gate", "Warp Barrage", "Tempo Beam", "Time Trap", "Warp Bomb", "Grand Clock"},
    ["Space"] = {"Space Gun", "Blackhole Orb", "Moon Splitter", "Asteroid Belt", "Meteor Jam", "Cosmic Remote", "Space Saucer"},
    ["Super Sonic"] = {"Sonic Blaster", "Sonic Barrage", "Sonic Twister", "Rebound Blast", "Rebound Teleport", "Sonic Boom", "Super Sonic Wave"},
}

for category, list in pairs(powers) do
    PowersTab:CreateSection(category)
    for _, skill in ipairs(list) do
        PowersTab:CreateButton({
            Name = skill,
            Callback = function()
                Remote:FireServer("equip_mystery_spell", skill)
            end
        })
    end
end

--New Tab REBIRTH 
local RebirthTab = Window:CreateTab("Rebirth & Special", 4483362458)

local rebirthSkills = {
    "Draedon's Tech", "Elysian Beam", "Bubble Flail", "Frost Fire Bomb", 
    "Halloween Sword", "Poison Serpent", "Dark Flames", "Yoru", 
    "Plasma Orbs", "Red Saucer", "Undead Staff", "Cruel Sun"
}

RebirthTab:CreateSection("Special / Rebirth Skills")
for _, skill in ipairs(rebirthSkills) do
    RebirthTab:CreateButton({
        Name = skill,
        Callback = function()
            Remote:FireServer("equip_mystery_spell", skill)
            Rayfield:Notify({
                Title = "KietHub",
                Content = "Đã trang bị: " .. skill,
                Duration = 2
            })
        end
    })
end

--TAB PLAYER 
local PlayerTab = Window:CreateTab("Player", 4483345998)
local currentSpeed = 16
local currentJump = 50
local lockSpeed = false
local lockJump = false

PlayerTab:CreateSlider({
    Name = "WalkSpeed", Range = {16, 500}, Increment = 1, Suffix = " Speed", CurrentValue = 16,
    Callback = function(Value)
        currentSpeed = Value
        local hum = getHumanoid()
        if hum then hum.WalkSpeed = Value end
    end,
})

PlayerTab:CreateSlider({
    Name = "JumpPower", Range = {50, 500}, Increment = 1, Suffix = " Power", CurrentValue = 50,
    Callback = function(Value)
        currentJump = Value
        local hum = getHumanoid()
        if hum then hum.JumpPower = Value end
    end,
})

PlayerTab:CreateToggle({
    Name = "Lock WalkSpeed", CurrentValue = false,
    Callback = function(Value) lockSpeed = Value end,
})

PlayerTab:CreateToggle({
    Name = "Lock JumpPower", CurrentValue = false,
    Callback = function(Value) lockJump = Value end,
})


RunService.Stepped:Connect(function()
    local char = lp.Character
    if char then
        local hum = char:FindFirstChildOfClass("Humanoid")
        if hum then
            if lockSpeed then hum.WalkSpeed = currentSpeed end
            if lockJump then hum.JumpPower = currentJump end
        end
    end
end)

Rayfield:LoadConfiguration()
Rayfield:Notify({
    Title = "KietHub Updated",
    Content = "Version 1.7 Ready!.",
    Duration = 5
})
